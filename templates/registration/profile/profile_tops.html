{% extends "registration/profile/profile_base.html" %}

{% block title %}{{ username }}'s submissions{% endblock %}

{% block content %}
<h4>Submissions</h4>
{% if topics_list %}
<ul class="topic-list">
  {% for object in topics_list %}
  <li> 
    <div id="topic_div{{ object.id }}">
      <a class="title" href={{ object.url }}>{{ object.title }}</a> <br />
      <div class="comment-menu">
	submitted by <a href="/users/u/{{ object.user }}/profile/">{{ object.user }}</a>
	{{ object.get_elapsed }} ago | 
	{% with object.comment_set.count as num %}
	<a href = "/{{ object.id }}">({{ num }}) comment{{ num|pluralize }}</a>
	{% endwith %}
	{% ifequal request.user object.user %}
	| <a href="/edit/{{ object.id }}/{{ page }}">edit</a>
	<span id="delete_link{{ object.id }}">
	  | <a href="#" onclick="swap('#delete_link{{ object.id }}', '#confirm_delete{{ object.id }}'); return false;">delete</a>
	</span>
	<span class="confirm" id="confirm_delete{{ object.id }}">
	  | Sure? Can't undo. <a href="#" onclick="delete_topic({{ object.id }}); swap('#delete_link{{ object.id }}', '#confirm_delete{{ object.id }}'); return false;">Yes</a> 
	  / <a href="#" onclick="swap('#delete_link{{ object.id }}', '#confirm_delete{{ object.id }}'); return false;">No</a>
	</span>
	{% endifequal %}
      </div>
    </div>
  </li>
  {% endfor %}
</ul>


{% if has_previous %}
<a href="/users/u/{{ username }}/submissions/{{ previous }}">prev</a>
{% endif %}

{% if has_next %}
<a href="/users/u/{{ username }}/submissions/{{ next }}">next</a>
{% endif %}

{% else %}
<p>No topics are available</p>
{% endif %}
{% endblock %}



